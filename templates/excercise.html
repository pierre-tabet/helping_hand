<!DOCTYPE html>

<html lang="en">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta charset="utf-8">
  <meta name="tracing_page" content="width=device-width, initial-scale=1.0">
  <meta name="pierre_tabet" http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./style.css">
  <title>Canvas</title>
</head>

<body>

  <canvas id="canvas_window"></canvas>
  <script src="./canvas.js"></script>
  <div>
      <button id="next_image">Next</button>
      <button id="postdata">Post Coordinates</button>
  </div>
  <script>

  function PostCoordinates(xcoordinates, ycoordinates){
      var coordinates = {xcoordinates,ycoordinates}
      console.log(xcoordinates,ycoordinates);
      $.ajax({
          url: '/index',
          type: 'POST',
          data: coordinates,
          success: function (response) {
              debugger;
              alert(response);
          }
      })
  }
  $('#postdata').click(function(){
      PostCoordinates(x_coords,y_coords)
  })
  $("#next_image").click(()=>{
      if (counter === urls.length - 1){
          counter = 0;
          console.log(counter)
      }else{counter++;}
      base_image = new Image();
      base_image.src = `${urls[counter]}`
      console.log(base_image.src)
      base_image.onload = function(){
        ctx.drawImage(base_image, 0, 0);
      }
  })
  </script>
</body>
</html>
